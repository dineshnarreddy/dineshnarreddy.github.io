<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Agriculture AI ‚Äì Mango & Greenhouse Assistant</title>
  <meta name="description"
        content="Smart Agriculture AI: MangoEdgeAI, GreenhouseEdgeAI and MultiCropEdgeAI ‚Äì AI + IoT assistants for farms and greenhouses, with simple, explainable advice on irrigation, fertilizer and pest risk." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<!-- ================= NAVBAR ================= -->
<header class="nav">
  <div class="container nav-inner">
    <a class="brand" href="index.html">
      <span class="brand-mark">üçÉ</span>
      <span>Smart Agriculture AI</span>
    </a>

    <nav class="nav-links">
      <a href="about.html">About</a>
      <a href="features.html">Features</a>
      <a href="university.html">University</a>
      <a href="impact.html">Impact (AP)</a>
      <a href="gallery.html">Gallery</a>

      <a href="https://agriedgeai-chat-ibryb35vjgrs5jw7gfbjtf.streamlit.app"
         target="_blank" rel="noopener" class="nav-pill">
        AI Chat
      </a>

      <a href="contact.html" class="button button-small">Contact</a>

      <!-- ‚úÖ AUTH BUTTONS (AUTO SHOW/HIDE) -->
      <span class="nav-auth" id="navAuth" style="display: inline-flex; gap: 10px; align-items: center;">
        <a id="navSignIn" href="login.html" class="button button-small button-secondary">Sign in</a>

        <a id="navDashboard" href="dashboard.html" class="button button-small" style="display:none;">Dashboard</a>

        <button id="navSignOut" class="button button-small button-tertiary" type="button" style="display:none;">
          Sign out
        </button>
      </span>
    </nav>
  </div>
</header>

<!-- ================= HERO ================= -->
<main class="hero">
  <div class="hero-gradient"></div>

  <div class="container hero-inner">
    <div class="hero-text">
      <p class="hero-kicker">AI + IoT assistant for farms & greenhouses</p>

      <h1>Smart farming help, in simple language.</h1>

      <p class="hero-sub">
        Our assistant turns <strong>weather, soil, sensors and leaf images</strong> into clear,
        explainable advice on irrigation, fertilizer and pest risk ‚Äî built for
        <strong>smallholder open-fields</strong> and <strong>modern greenhouses</strong>.
      </p>

      <div class="hero-cta">
        <a class="button" href="https://agriedgeai-chat-ibryb35vjgrs5jw7gfbjtf.streamlit.app"
           target="_blank" rel="noopener">
          Try AI Demo
        </a>
        <a class="button button-secondary" href="impact.html">I‚Äôm a Farmer</a>
        <a class="button button-tertiary" href="features.html">I‚Äôm a Greenhouse Grower</a>
      </div>

      <div class="trust-row">
        <span class="trust-pill">PhD project (UK)</span>
        <span class="trust-dot">‚Ä¢</span>
        <span class="trust-pill">Edge-first (Raspberry Pi)</span>
        <span class="trust-dot">‚Ä¢</span>
        <span class="trust-pill">Explainable recommendations</span>
      </div>

      <div class="status-strip">
        <div class="status-item">
          <p class="status-label">MangoEdgeAI</p>
          <p class="status-value"><span class="badge ok">Live</span> Open-field orchard assistant</p>
        </div>
        <div class="status-item">
          <p class="status-label">GreenhouseEdgeAI</p>
          <p class="status-value"><span class="badge ok">Live</span> Tomato greenhouse assistant</p>
        </div>
        <div class="status-item">
          <p class="status-label">MultiCropEdgeAI</p>
          <p class="status-value"><span class="badge wait">In progress</span> Multi-crop expansion</p>
        </div>
      </div>
    </div>

    <div class="hero-art">
      <div class="hero-card">
        <!-- ‚úÖ This file exists in your repo (based on your screenshot) -->
        <img class="hero-photo"
             src="fresh-green-leaves-with-water-drops_1284-41617.avif"
             alt="Fresh green leaves with water drops">

        <div class="hero-overlay-card">
          <p class="hero-overlay-title">Today‚Äôs suggestion</p>
          <p class="hero-overlay-body">
            Irrigate Plot 2 for <strong>30 minutes</strong> this evening.
            <span class="hero-chip">Low rain risk</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- ================= WHAT IT DOES ================= -->
<section class="section section-alt">
  <div class="container">
    <h2 class="section-title">What the assistant can help with</h2>
    <p class="section-subtitle">
      Three core jobs ‚Äî irrigation, fertilizer, and pest risk ‚Äî designed to be practical,
      low-cost and understandable.
    </p>

    <div class="grid three">
      <article class="card">
        <h3>Irrigation ‚Ä¢ Save water</h3>
        <p>
          Decide <strong>when to water, how much, and for how long</strong> using soil moisture,
          crop stage, forecast rain probability and pump capacity.
        </p>
        <ul class="card-list">
          <li>Plot-wise recommendations</li>
          <li>Rain veto to avoid waste</li>
          <li>Works with or without sensors</li>
        </ul>
      </article>

      <article class="card">
        <h3>Fertilizer ‚Ä¢ Save money</h3>
        <p>
          Stage-wise nutrition plans that respect local costs and reduce over-application,
          evolving from templates into data-driven optimisation.
        </p>
        <ul class="card-list">
          <li>Pre-flush ‚Üí flowering ‚Üí fruit set</li>
          <li>Local fertilizer names & mixes</li>
          <li>Farmer-first + explainable</li>
        </ul>
      </article>

      <article class="card">
        <h3>Pest &amp; Disease ‚Ä¢ Protect yield</h3>
        <p>
          Weather-based outbreak alerts plus <strong>image-based diagnosis</strong> from leaf photos
          and drone images ‚Äî not just a leaf-scanner app.
        </p>
        <ul class="card-list">
          <li>Risk days via WhatsApp alerts</li>
          <li>Lightweight edge vision models</li>
          <li>Suggested next actions (not panic)</li>
        </ul>
      </article>
    </div>
  </div>
</section>

<!-- ================= PRODUCT SWITCHER (SaaS FEEL) ================= -->
<section class="section">
  <div class="container">
    <div class="section-head">
      <div>
        <h2 class="section-title">One platform, three products</h2>
        <p class="section-subtitle">
          Same edge + data pipeline, tailored to different environments.
          Start with MangoEdgeAI and GreenhouseEdgeAI ‚Äî MultiCropEdgeAI expands next.
        </p>
      </div>
      <a class="link-soft" href="features.html">See features ‚Üí</a>
    </div>

    <div class="product-switch">
      <input type="radio" name="prod" id="prod1" checked>
      <label for="prod1">MangoEdgeAI (Open-field)</label>

      <input type="radio" name="prod" id="prod2">
      <label for="prod2">GreenhouseEdgeAI (Tomato)</label>

      <input type="radio" name="prod" id="prod3">
      <label for="prod3">MultiCropEdgeAI (In progress)</label>

      <div class="product-panels">
        <div class="panel p1">
          <div class="panel-grid">
            <div>
              <h3 class="panel-title">MangoEdgeAI ‚Äî Orchard decision assistant</h3>
              <p class="panel-text">
                Built for small and medium mango orchards. Combines soil, weather and crop stage
                to recommend irrigation duration, stage-wise fertilizer plans and pest-risk warnings.
              </p>
              <ul class="panel-list">
                <li><strong>Edge-first:</strong> runs on Raspberry Pi</li>
                <li><strong>Offline-ready:</strong> syncs when internet is available</li>
                <li><strong>Explainable:</strong> every recommendation has a ‚Äúwhy‚Äù</li>
              </ul>
              <div class="panel-actions">
                <a class="button button-secondary" href="impact.html">Open-field mode ‚Üí</a>
                <a class="button button-tertiary" href="gallery.html">See examples ‚Üí</a>
              </div>
            </div>
            <div class="panel-media">
              <img src="Feature_DeepLearning_main2.jpg" alt="Farmer using mobile in the field">
              <p class="media-caption">Example: farmer-friendly advice through simple interfaces.</p>
            </div>
          </div>
        </div>

        <div class="panel p2">
          <div class="panel-grid">
            <div>
              <h3 class="panel-title">GreenhouseEdgeAI ‚Äî Climate & energy assistant</h3>
              <p class="panel-text">
                Designed for tomato greenhouses with multiple zones. Helps staff keep plants in comfort bands
                while reducing energy and CO‚ÇÇ using explainable decision logic.
              </p>
              <ul class="panel-list">
                <li><strong>Zones:</strong> different greenhouse sections can be managed separately</li>
                <li><strong>Control guidance:</strong> heating / vents / screens / irrigation</li>
                <li><strong>Evidence:</strong> early research shows ~22% energy saving potential</li>
              </ul>
              <div class="panel-actions">
                <a class="button button-secondary" href="features.html">Greenhouse mode ‚Üí</a>
                <a class="button button-tertiary" href="university.html">Research context ‚Üí</a>
              </div>
            </div>
            <div class="panel-media">
              <img src="convolutional-neural-networks-1.jpg" alt="AI detection illustration">
              <p class="media-caption">Example: combining sensor + vision signals for risk detection.</p>
            </div>
          </div>
        </div>

        <div class="panel p3">
          <div class="panel-grid">
            <div>
              <h3 class="panel-title">MultiCropEdgeAI ‚Äî scalable multi-crop expansion</h3>
              <p class="panel-text">
                A future platform supporting multiple crops (tomato, chilli, cotton, rice, groundnut and more)
                using a shared disease library + weather-risk + edge inference pipeline.
              </p>
              <ul class="panel-list">
                <li><strong>Same architecture:</strong> edge + weather + soil + images</li>
                <li><strong>Expandable disease library:</strong> crop-wise + severity labels</li>
                <li><strong>Goal:</strong> one practical tool for many regions</li>
              </ul>
              <div class="panel-actions">
                <a class="button button-secondary" href="contact.html">Partner with us ‚Üí</a>
                <a class="button button-tertiary" href="about.html">Project overview ‚Üí</a>
              </div>
            </div>
            <div class="panel-media">
              <div class="media-ghost">
                <p class="ghost-title">Under development</p>
                <p class="ghost-text">We‚Äôre expanding crop modules + datasets. Partners welcome.</p>
              </div>
              <p class="media-caption">Next: multi-crop rollout with the same edge-first design.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ================= ‚ÄúPRIVA STYLE‚Äù DASHBOARD PREVIEW ================= -->
<section class="section section-alt">
  <div class="container">
    <div class="section-head">
      <div>
        <h2 class="section-title">Dashboard preview (greenhouse-style)</h2>
        <p class="section-subtitle">
          Inspired by professional greenhouse software: zones, climate tiles, irrigation tiles and clear actions.
          (This is a design preview ‚Äî the AI engine will connect behind it.)
        </p>
      </div>
      <a class="link-soft" href="https://agriedgeai-chat-ibryb35vjgrs5jw7gfbjtf.streamlit.app" target="_blank" rel="noopener">Try demo ‚Üí</a>
    </div>

    <div class="dashboard">
      <div class="dash-top">
        <div class="zone-tabs">
          <span class="zone-pill active">Zone A</span>
          <span class="zone-pill">Zone B</span>
          <span class="zone-pill">Zone C</span>
          <span class="zone-pill">All zones</span>
        </div>
        <div class="dash-meta">
          <span class="dash-badge">Today</span>
          <span class="dash-muted">External rain risk: Low ‚Ä¢ Wind: Moderate</span>
        </div>
      </div>

      <div class="kpi-grid">
        <div class="kpi">
          <p class="kpi-label">Temperature</p>
          <p class="kpi-value">21.4¬∞C</p>
          <p class="kpi-sub">Comfort band: OK</p>
        </div>
        <div class="kpi">
          <p class="kpi-label">Humidity</p>
          <p class="kpi-value">72%</p>
          <p class="kpi-sub">VPD: stable</p>
        </div>
        <div class="kpi">
          <p class="kpi-label">CO‚ÇÇ</p>
          <p class="kpi-value">820 ppm</p>
          <p class="kpi-sub">Target: 800‚Äì950</p>
        </div>
        <div class="kpi">
          <p class="kpi-label">Irrigation</p>
          <p class="kpi-value">Next: 18:30</p>
          <p class="kpi-sub">Duration: 12 min</p>
        </div>
      </div>

      <div class="dash-grid">
        <div class="dash-card">
          <div class="dash-card-head">
            <h3>Climate trend</h3>
            <span class="mini-tag">Temp vs setpoint</span>
          </div>
          <div class="fake-chart"></div>
          <p class="dash-note">AI suggests minor vent adjustment to reduce humidity spike.</p>
        </div>

        <div class="dash-card">
          <div class="dash-card-head">
            <h3>Energy & savings</h3>
            <span class="mini-tag">Weekly view</span>
          </div>
          <div class="fake-bars"></div>
          <p class="dash-note"><strong>Estimated saving:</strong> 18‚Äì25% this week (research prototype).</p>
        </div>

        <div class="dash-card">
          <div class="dash-card-head">
            <h3>Actions</h3>
            <span class="mini-tag">Explainable</span>
          </div>

          <ul class="action-list">
            <li>
              <span class="action-dot ok"></span>
              <div>
                <p class="action-title">Irrigate Zone A for 12 minutes (18:30)</p>
                <p class="action-sub">Why: soil trending dry + low rain risk + stable temp.</p>
              </div>
            </li>
            <li>
              <span class="action-dot warn"></span>
              <div>
                <p class="action-title">Check humidity spike risk (19:00‚Äì21:00)</p>
                <p class="action-sub">Why: forecast RH ‚Üë + limited airflow period.</p>
              </div>
            </li>
            <li>
              <span class="action-dot info"></span>
              <div>
                <p class="action-title">Optional leaf image scan (pest check)</p>
                <p class="action-sub">Why: conditions match early outbreak pattern.</p>
              </div>
            </li>
          </ul>

          <div class="dash-actions">
            <a class="button button-secondary" href="contact.html">Request pilot access ‚Üí</a>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ================= HOW IT WORKS ================= -->
<section class="section">
  <div class="container">
    <h2 class="section-title">How it works</h2>
    <p class="section-subtitle">
      Collect data ‚Üí run AI on the edge ‚Üí send clear advice back to the farmer or greenhouse team.
    </p>

    <ol class="steps">
      <li>
        <h3>1. Collect data</h3>
        <p>
          Sensors (soil moisture, temperature, humidity), weather (IMD, NASA POWER),
          soil type, crop stage and optional images from phones or drones.
        </p>
      </li>
      <li>
        <h3>2. Analyse on the edge device</h3>
        <p>
          Raspberry Pi or similar runs lightweight ML models locally so it works even with weak internet.
        </p>
      </li>
      <li>
        <h3>3. AI decision engine</h3>
        <p>
          Irrigation + fertilizer + pest modules combine rules with ML to generate plot/zone-specific recommendations.
        </p>
      </li>
      <li>
        <h3>4. Explainable recommendations</h3>
        <p>
          Every suggestion includes a ‚Äúwhy‚Äù explanation, so people can trust it and override if needed.
        </p>
      </li>
      <li>
        <h3>5. Interfaces</h3>
        <p>
          WhatsApp, app notifications or greenhouse dashboards ‚Äî depending on what the user prefers.
        </p>
      </li>
    </ol>
  </div>
</section>

<!-- ================= RESEARCH ================= -->
<section class="section section-alt">
  <div class="container">
    <h2 class="section-title">Backed by research, built with farmers in mind</h2>
    <p class="section-subtitle">
      Ongoing PhD work in the UK, combining literature review, simulations and real-world pilots in India and the UK.
    </p>

    <div class="research-grid">
      <div>
        <h3>Academic foundation</h3>
        <p>Research-led design, transparent reasoning, and measurable outcomes.</p>
      </div>
      <div>
        <h3>Tech stack</h3>
        <p>Edge-first: Raspberry Pi ‚Ä¢ LoRa/MQTT ‚Ä¢ TimescaleDB ‚Ä¢ ML/TFLite.</p>
      </div>
      <div>
        <h3>Responsible AI</h3>
        <p>Explainable advice, farmer control, and safe decision support principles.</p>
      </div>
    </div>

    <div class="logo-strip">
      <span class="logo-pill">University of Portsmouth</span>
      <span class="logo-pill">NASA POWER</span>
      <span class="logo-pill">IMD / Local weather</span>
      <span class="logo-pill">Raspberry Pi</span>
      <span class="logo-pill">LoRa / MQTT</span>
    </div>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <div class="container footer-inner">
    <div>
      <p class="footer-brand">¬© 2025 Smart Agriculture AI</p>
      <p class="footer-note">
        Research-led AI assistant for farmers and greenhouses. Goal: keep the core tool affordable or open for smallholder farmers.
      </p>
    </div>
    <div class="footer-links">
      <a href="https://github.com/dineshnarreddy" target="_blank" rel="noopener">GitHub</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</footer>

<!-- ‚úÖ SUPABASE AUTH TOGGLE (no editing needed) -->
<script type="module">
  // If your client file path is different, tell me ‚Äî I will resend full code.
  import { supabase } from "./js/supabaseClient.js";

  const signIn = document.getElementById("navSignIn");
  const dash = document.getElementById("navDashboard");
  const signOut = document.getElementById("navSignOut");

  function setUI(isAuthed) {
    if (isAuthed) {
      if (signIn) signIn.style.display = "none";
      if (dash) dash.style.display = "inline-flex";
      if (signOut) signOut.style.display = "inline-flex";
    } else {
      if (signIn) signIn.style.display = "inline-flex";
      if (dash) dash.style.display = "none";
      if (signOut) signOut.style.display = "none";
    }
  }

  async function init() {
    try {
      const { data, error } = await supabase.auth.getSession();
      if (error) throw error;
      const authed = !!data?.session?.user;
      setUI(authed);
    } catch (e) {
      // If Supabase fails, keep Sign in visible (safe default)
      setUI(false);
      console.error("Auth init error:", e);
    }
  }

  if (signOut) {
    signOut.addEventListener("click", async () => {
      try {
        await supabase.auth.signOut();
        setUI(false);
        // Optional: go to home
        window.location.href = "index.html";
      } catch (e) {
        console.error("Sign out error:", e);
      }
    });
  }

  supabase.auth.onAuthStateChange((_event, session) => {
    setUI(!!session?.user);
  });

  init();
</script>

</body>
</html>
